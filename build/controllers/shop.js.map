{"version":3,"sources":["../../src/controllers/shop.js"],"names":["shopController","get","req","res","shop","findByPk","params","shopId","result","status","json","send","getAll","pageNo","page","offset","limit","findAll","create","body","console","log","file","filename","dataValues","id","update","where","destroy","addImage","error","deleteImage","module","exports"],"mappings":"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","sourcesContent":["import { shop } from '../database/models';\n\nvar shopController = {};\n\nshopController.get = async (req, res) => {\n    try {\n        const result = await shop.findByPk(req.params.shopId);\n        res.status(200).json(result);\n    } catch (error) {\n        res.status(400).send(error);\n    }\n}\n\nshopController.getAll = async (req, res) => {\n    try {\n        let pageNo = req.params.page;\n        let offset = (pageNo - 1) * 15;\n        let limit = 15;\n        const result = await shop.findAll({ offset, limit });\n        res.status(200).json(result);\n    } catch (error) {\n        res.status(400).send(error);\n    }\n}\n\nshopController.create = async (req, res) => {\n    try {\n        let body = req.body;\n        console.log(req.file)\n        if (req.file)\n            body[\"image\"] = req.file.filename;\n\n        const result = await shop.create(body);\n        res.status(200).json(result.dataValues.id);\n    }\n    catch (error) {\n        res.status(400).send(error);\n    }\n}\n\nshopController.update = async (req, res) => {\n    try {\n        let body = req.body;\n        const result = await shop.update(body, {\n            where: {\n                id: req.params.shopId\n            }\n        });\n        res.status(200).json(result);\n    } catch (error) {\n        res.status(400).send(error);\n    }\n}\n\nshopController.delete = async (req, res) => {\n    try {\n        const result = await shop.destroy({\n            where: {\n                id: req.params.shopId\n            }\n        });\n        res.status(200).json(result);\n    } catch (error) {\n        res.status(400).send(error);\n    }\n}\n\nshopController.addImage = async (req, res) => {\n    try {\n    } catch (error) {\n        res.status(400).send(error);\n    }\n}\n\nshopController.deleteImage = async (req, res) => {\n    try {\n    } catch (error) {\n        res.status(400).send(error);\n    }\n}\n\nmodule.exports = shopController;"],"file":"shop.js"}